# 📝 기능 구현 - toast 컴포넌트 결과물

앞서 설명했던 설계 내용을 바탕으로 구현에 성공했고, 아래와 같이 사용할 수 있었다.

- npm 패키지 배포: [🔗 링크](https://www.npmjs.com/package/cy-toast)
- github: [🔗 링크](https://github.com/Chiman2937/cy-toast)

```tsx
const PageComponent = () => {
  const handleToastClick = () => {
    toast.run(({ isClosing, isOpening, index }) => (
      <SnackBar variant='error' isOpening={isOpening} isClosing={isClosing} index={index}>
        내용을 입력해주세요.
      </SnackBar>
    ));
  }
  return (
    <ToastRender />
    ...
  )
}
```

- 페이지 컴포넌트에서 ToastRender만 렌더링 해주면 toast 호출을 자유롭게 할 수 있다.

- SnackBar는 별도로 작성한 커스텀 컴포넌트이다. 이렇게 어떤 컴포넌트이던 자유롭게 사용가능하다.

- isClosing, isOpening 상태와 toast index 상태를 제공하여 애니메이션 커스터마이징도 지원한다.

<br></br>

## 🤔 회고

setState를 다른 함수에 넘겨 구독상태를 만든다는 생각을 한 것 까지는 좋았는데, 솔직히 구현은 gpt의 힘을 많이 빌렸다.

그래도 어떤식으로 구조를 관리해야 할까에 대한 고민을 정말 많이 해서 조금 더 성장했다는 것을 느꼈다.

패키지를 만들면서 재사용성을 높이기 위해 상태 관리 구조를 어떻게 정리해야하는지, 평소 편하게 쓰던 라이브러리가 어떤식으로 만들어지는지 이해하게 되었다.

<br></br>

## ❓ 다음에 또 도전한다면?

중간에 전역 변수를 거쳐 state가 업데이트 되는 과정이 비효율적이고 불필요하다고 생각이 들었다.

그래서 이후에는 React를 쓰지 않고, 바닐라 JS 기반의 더 가벼운 구조로도 구현을 해보고자 한다.

<img width="2528" height="1344" alt="image" src="https://github.com/user-attachments/assets/beaf17ef-fcbb-4067-8797-16a7f14431d9" />
