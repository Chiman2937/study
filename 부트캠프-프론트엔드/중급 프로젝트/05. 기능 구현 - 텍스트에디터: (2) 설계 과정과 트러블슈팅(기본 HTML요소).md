# ğŸ“ ê¸°ëŠ¥ êµ¬í˜„ - í…ìŠ¤íŠ¸ì—ë””í„° (ì„¤ê³„)

ì´ ë˜í•œ ì„¤ê³„ ëª©í‘œë¥¼ ì„¤ì •í•˜ê³ , ì–´ë–¤ ì‹ìœ¼ë¡œ ê°œë°œí•  ì§€ ìƒê°í•´ë³´ì•˜ë‹¤.

## ğŸ’¡ êµ¬ì¡° ì„¤ê³„(ê¸°ë³¸ HTML ìš”ì†Œ)

<img width="610" height="142" alt="image" src="https://github.com/user-attachments/assets/8445d280-c687-4618-b30e-2065b0fea527" />

- (1) ì œëª©, ë³¸ë¬¸, ì¸ìš©êµ¬ë¥¼ ì„ íƒê°€ëŠ¥
- (2) bold, italic, underline, strike ìŠ¤íƒ€ì¼ì„ ììœ ë¡­ê²Œ ì§€ì • ê°€ëŠ¥
- (3) Ordered List, Unordered List ì„ íƒê°€ëŠ¥
- (4) í…ìŠ¤íŠ¸ ì¢Œ/ìš°/ê°€ìš´ë° ì •ë ¬ ì§€ì • ê°€ëŠ¥

## ğŸ’¡ Tiptapì˜ ê¸°ë³¸êµ¬ì¡°

Tiptapì€ bold, italic ê°™ì€ ê¸°ë³¸ê¸°ëŠ¥ì„ ìœ„í•œ starterkitì´ ì¡´ì¬í•œë‹¤.

```bash
npm install @tiptap/starter-kit
```

[[ğŸ”— Tiptap StarterKit Guide]](https://tiptap.dev/docs/editor/extensions/functionality/starterkit#using-the-starterkit-extension)

<details>
  <summary><h4>âœ… Tiptap ê¸°ë³¸ê¸°ëŠ¥ ì˜ˆì œ</h4></summary>

ì•„ë˜ì™€ ê°™ì´ ê¸°ë³¸ ì˜ˆì œë¥¼ ì œê³µí•˜ë©°, ìŠ¤íƒ€ì¼ ì ìš©ì„ ìœ„í•œ ì»¤ë§¨ë“œì™€ ê·¸ ìŠ¤íƒ€ì¼ì´ ì ìš©ë˜ì–´ìˆëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆëŠ” isActive í•¨ìˆ˜ë¥¼ ì œê³µí•œë‹¤.
  
```tsx
import './styles.scss'

import { TextStyleKit } from '@tiptap/extension-text-style'
import type { Editor } from '@tiptap/react'
import { EditorContent, useEditor, useEditorState } from '@tiptap/react'
import StarterKit from '@tiptap/starter-kit'
import React from 'react'

const extensions = [TextStyleKit, StarterKit]

function MenuBar({ editor }: { editor: Editor }) {
  // Read the current editor's state, and re-render the component when it changes
  const editorState = useEditorState({
    editor,
    selector: ctx => {
      return {
        isBold: ctx.editor.isActive('bold') ?? false,
        canBold: ctx.editor.can().chain().toggleBold().run() ?? false,
        isItalic: ctx.editor.isActive('italic') ?? false,
        canItalic: ctx.editor.can().chain().toggleItalic().run() ?? false,
        isStrike: ctx.editor.isActive('strike') ?? false,
        canStrike: ctx.editor.can().chain().toggleStrike().run() ?? false,
        isCode: ctx.editor.isActive('code') ?? false,
        canCode: ctx.editor.can().chain().toggleCode().run() ?? false,
        canClearMarks: ctx.editor.can().chain().unsetAllMarks().run() ?? false,
        isParagraph: ctx.editor.isActive('paragraph') ?? false,
        isHeading1: ctx.editor.isActive('heading', { level: 1 }) ?? false,
        isHeading2: ctx.editor.isActive('heading', { level: 2 }) ?? false,
        isHeading3: ctx.editor.isActive('heading', { level: 3 }) ?? false,
        isHeading4: ctx.editor.isActive('heading', { level: 4 }) ?? false,
        isHeading5: ctx.editor.isActive('heading', { level: 5 }) ?? false,
        isHeading6: ctx.editor.isActive('heading', { level: 6 }) ?? false,
        isBulletList: ctx.editor.isActive('bulletList') ?? false,
        isOrderedList: ctx.editor.isActive('orderedList') ?? false,
        isCodeBlock: ctx.editor.isActive('codeBlock') ?? false,
        isBlockquote: ctx.editor.isActive('blockquote') ?? false,
        canUndo: ctx.editor.can().chain().undo().run() ?? false,
        canRedo: ctx.editor.can().chain().redo().run() ?? false,
      }
    },
  })
```

</details>

## ğŸ” íŠ¸ëŸ¬ë¸” ìŠˆíŒ…

<h3>â“ ìŠ¤íƒ€ì¼ ì„ íƒ ì‹œ íˆ´ë°”ì˜ ìƒíƒœê°€ ì—…ë°ì´íŠ¸ ë˜ì§€ì•ŠëŠ” ë¬¸ì œ</h3>

#### âœ… ë¬¸ì œ í˜„ìƒ

<img width="569" height="124" alt="image" src="https://github.com/user-attachments/assets/bdb4dd2c-943a-478b-886e-467698191643" />

> ì˜ˆì‹œ: ê°€ìš´ë° ì •ë ¬ì„ ì ìš©í–ˆìœ¼ë‚˜, toolbarì— isActive(true) ìƒíƒœê°€ ì ìš©ë˜ì§€ ì•ŠìŒ

#### âš ï¸ ì›ì¸: Tiptapì˜ ìƒíƒœ ê´€ë¦¬ êµ¬ì¡° ë°©ì‹

Tiptapì€ useStateê°™ì€ React ìƒíƒœ ê´€ë¦¬ êµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë©°, ProseMirror ê´€ë¦¬ ë°©ì‹ì„ ì‚¬ìš©í•œë‹¤.

ê·¸ë˜ì„œ ì–´ë–¤ ìŠ¤íƒ€ì¼ì„ ì„ íƒí–ˆì„ ë•Œ Tiptap ë‚´ë¶€ì˜ ìƒíƒœëŠ” ë³€ê²½í•˜ì§€ë§Œ, Reactê°€ ì´ê²ƒì„ ê°ì§€í•˜ì§€ ëª»í•´ ë¦¬ë Œë”ë§ì´ ë˜ì§€ ì•ŠëŠ” ê²ƒì´ë‹¤.

#### ğŸ’¡ í•´ê²°ë°©ë²•

Tiptap ì—ë””í„°ì™€ ìƒíƒœ ë™ê¸°í™”ë¥¼ ì–´ë–»ê²Œ í•  ìˆ˜ ìˆëŠ”ì§€ ì°¾ì•„ë³´ì•˜ë‹¤.
| ì´ë²¤íŠ¸ ì´ë¦„            | ë°œìƒ ì¡°ê±´                                     | ìš©ë„                                                    | ì˜ˆì‹œ                                     |
| ----------------- | ----------------------------------------- | ----------------------------------------------------- | -------------------------------------- |
| `selectionUpdate` | **ì»¤ì„œ ìœ„ì¹˜ ë˜ëŠ” ì„ íƒ ì˜ì—­(selection)ì´ ë°”ë€” ë•Œ**       | í˜„ì¬ selectionì— ë”°ë¼ íˆ´ë°” ë²„íŠ¼(active ìƒíƒœ ë“±)ì„ ê°±ì‹ í•  ë•Œ ì‚¬ìš©         | `isActive('bold')` ìƒíƒœ ê°±ì‹                |
| `transaction`     | **ë¬¸ì„œ ìƒíƒœê°€ ë³€ê²½ë  ë•Œ (mark, node, attr ë“±)**     | ìŠ¤íƒ€ì¼ ì ìš©(êµµê²Œ, ì •ë ¬, ë¦¬ìŠ¤íŠ¸ ë“±) í›„ì—ë„ íˆ´ë°” ìƒíƒœë¥¼ ì •í™•íˆ ë°˜ì˜               | `setTextAlign('center')` ì‹¤í–‰ ì§í›„ ìƒíƒœ ì—…ë°ì´íŠ¸ |
| `update`          | **EditorState ì „ì²´ê°€ ë°”ë€” ë•Œ** (transaction í¬í•¨) | ì „ì²´ ë™ê¸°í™”ìš©, ëŒ€ì²´ë¡œ `transaction`ê³¼ ìœ ì‚¬í•˜ì§€ë§Œ selection ê´€ë ¨ ë°˜ì‘ì€ ì—†ìŒ | ë¬¸ì„œ ì „ì²´ì˜ êµ¬ì¡°ë¥¼ ë¶„ì„í•  ë•Œ                       |
| `focus`           | ì—ë””í„°ì— í¬ì»¤ìŠ¤ê°€ ë“¤ì–´ì˜¬ ë•Œ                           | í¬ì»¤ìŠ¤ ì—¬ë¶€ë¡œ UI ë³€ê²½ ì‹œ ì‚¬ìš©                                    | íˆ´ë°” í™œì„±í™”, border ê°•ì¡° ë“±                    |
| `blur`            | ì—ë””í„°ì—ì„œ í¬ì»¤ìŠ¤ê°€ ë¹ ì§ˆ ë•Œ                           | í¬ì»¤ìŠ¤ ì—¬ë¶€ë¡œ UI ë³€ê²½ ì‹œ ì‚¬ìš©                                    | íˆ´ë°” ìˆ¨ê¸°ê¸° ë“±                               |
| `destroy`         | ì—ë””í„° ì¸ìŠ¤í„´ìŠ¤ê°€ íŒŒê´´ë  ë•Œ                           | í´ë¦°ì—… ë¡œì§ ì‹¤í–‰                                             | socket ì—°ê²° í•´ì œ ë“±                         |
| `create`          | ì—ë””í„°ê°€ ì´ˆê¸°í™”ë  ë•Œ                               | ì—ë””í„° ì´ˆê¸° ì„¤ì • ì™„ë£Œ í›„ ì´ˆê¸° ìƒíƒœ ê°€ì ¸ì˜¤ê¸°                             | ì´ˆê¸° ê°’ ì„¸íŒ…                                |


ì´ ì´ë²¤íŠ¸ë“¤ ì „ë¶€ ì ìš©í•˜ëŠ” ê²ƒì€ ë‚­ë¹„ì´ê¸° ë•Œë¬¸ì— í…ìŠ¤íŠ¸ ì—ë””í„°ê°€ ì–¸ì œ ì—…ë°ì´íŠ¸ ë˜ì–´ì•¼ í•˜ëŠ”ì§€ë¥¼ ë¨¼ì € ê³ ë¯¼í•´ë³´ì•˜ë‹¤.

- ì»¤ì„œê°€ ì´ë™í–ˆì„ ë•Œ(í•´ë‹¹ ìœ„ì¹˜ì˜ ë…¸ë“œì˜ ìŠ¤íƒ€ì¼ì„ ì—…ë°ì´íŠ¸ í•´ì¤˜ì•¼í•¨)
- toolbarì—ì„œ ìŠ¤íƒ€ì¼ì„ ì„ íƒí•œ ì§í›„

ë”°ë¼ì„œ selectionUpdateì™€ transaction ì´ë²¤íŠ¸ ë‘ê°€ì§€ë¥¼ ì‚¬ìš©í•´ì„œ ê°•ì œ ì—…ë°ì´íŠ¸ êµ¬ë¬¸ì„ ì ìš©í•˜ê¸°ë¡œ í–ˆë‹¤.

```tsx
  const [, forceUpdate] = useReducer((x) => x + 1, 0);

  useEffect(() => {
    if (!editor) return;
    const handler = () => {
      forceUpdate();
    };

    editor.on('transaction', handler);
    editor.on('selectionUpdate',handler);
    return () => {
      editor.off('transaction', handler);
      editor.off('selectionUpdate',handler);
    };
  }, [editor]);
```

ì´ë¥¼ í†µí•´ í™”ë©´ì´ ê°•ì œ ë¦¬ë Œë”ë§ ë˜ë„ë¡ êµ¬í˜„í–ˆë‹¤.
