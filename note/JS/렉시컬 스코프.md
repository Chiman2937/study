
# 📝 렉시컬 스코프 (Lexical Scope)

## ❔스코프란?
코드에서 변수나 함수같은 식별자에 **접근 할 수 있는 유효한 범위**를 말한다.

```js
{
  const a = 1;
}

console.log(a); //ReferenceError: a is not defined
```
- 위 코드에서 a는 블록 스코프 내부에서 선언 되었고, const 키워드는 블록 단위 스코프를 따름
- console.log(a); 는 그 밖의(상위) 스코프 에 있기 때문에 a에 접근할 수 없다.
#### ※ a는 블록에서 유효하며, 블록을 벗어난 곳에서는 참조 할 수 없기 때문에 Reference Error가 발생함

## 📌 정의

렉시컬 스코프란 **함수가 호출되는 시점이 아니라, 선언되는 시점에 결정되는 스코프 구조**를 말한다.  
*
자바스크립트는 렉시컬 스코프 방식을 따르는 언어로, 함수의 렉시컬 환경은 함수가 **작성된 위치 기준으로 생성**된다.

<br></br>
---

### ✅ 렉시컬 환경
자바스크립트에서 실행 컨텍스트가 생성이 될 때, 그 구성 요소 중 하나인 **렉시컬 환경**이 함께 만들어진다.

이 렉시컬 환경은 현재 스코프와 외부 스코프(상위 스코프)에 대한 참조 정보를 담고 있다.

이러한 렉시컬 환경들이 계층적으로 연결되어 스코프 체인을 형성한다.

이 체인은 함수의 **선언 위치 기준으로 고정되며**, **함수의 호출 위치는 영향을 주지 않는다.**

이처럼 선언 위치를 기준으로 스코프가 구성되는 방식을 **렉시컬 스코프**이다.

<br></br>
---

### ✅ 동적 스코프와의 차이

- **동적 스코프(dynamic scope)** 는 함수가 **`어디서 호출되었는지`** 에 따라 상위 스코프가 결정됨
   
- 반면 **렉시컬 스코프(정적 스코프)** 는 **`어디에서 선언되었는가`** 에 따라 상위 스코프가 정해짐

<br></br>
---
### ✔️ 예제

```js
function func1() {
  const a = 1;
  func2();
}
function func2() {
  console.log(a); // ReferenceError
}
func1();
```

- `func1`에 의해 `func2`가 호출되었지만, `func2`는 전역에서 선언되었기 때문에 **그 상위 스코프는 전역 스코프**이다.
  
- 따라서 `func2` 내부에서는 **`func1`의 지역 변수 `a`에 접근할 수 없다.**
